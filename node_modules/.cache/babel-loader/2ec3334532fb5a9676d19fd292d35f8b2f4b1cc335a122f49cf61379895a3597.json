{"ast":null,"code":"var _jsxFileName = \"/Users/adeelakram/Documents/projects/freelance/herogramtest/frontend/src/modules/mediaFiles/ViewMediaModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Modal, Spin, Tag } from 'antd';\nimport axiosInstance from '../../config/axiosConfig';\nimport { API_BASE_URL } from 'config/constant';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MediaViewModal = ({\n  visible,\n  onClose,\n  mediaId\n}) => {\n  _s();\n  var _media$Tags;\n  const [loading, setLoading] = useState(false);\n  const [media, setMedia] = useState(null);\n\n  // Fetch media details and update view count\n  const fetchMediaDetails = async () => {\n    setLoading(true);\n    try {\n      var _response$data;\n      // Fetch media details\n      const response = await axiosInstance.get(`/files/${mediaId}`);\n      setMedia((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.file);\n\n      // Update view count\n      await axiosInstance.post(`/files/${mediaId}/increment-view`);\n    } catch (error) {\n      console.error('Error fetching media details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (visible && mediaId) {\n      fetchMediaDetails();\n    }\n  }, [visible, mediaId]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: visible,\n    title: \"Media Details\",\n    onCancel: onClose,\n    footer: null,\n    width: 800,\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : media && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: media.filename\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"File Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 16\n        }, this), \" \", media.filetype]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tags:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this), (_media$Tags = media.Tags) === null || _media$Tags === void 0 ? void 0 : _media$Tags.map((tag, index) => /*#__PURE__*/_jsxDEV(Tag, {\n          color: \"blue\",\n          children: tag === null || tag === void 0 ? void 0 : tag.tag\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 27\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"View Count:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 16\n        }, this), \" \", media.viewCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(MediaViewModal, \"7BRB4GByFWi/BxMWYmVBpjiJsIg=\");\n_c = MediaViewModal;\nexport default MediaViewModal;\nvar _c;\n$RefreshReg$(_c, \"MediaViewModal\");","map":{"version":3,"names":["React","useEffect","useState","Modal","Spin","Tag","axiosInstance","API_BASE_URL","jsxDEV","_jsxDEV","MediaViewModal","visible","onClose","mediaId","_s","_media$Tags","loading","setLoading","media","setMedia","fetchMediaDetails","_response$data","response","get","data","file","post","error","console","title","onCancel","footer","width","children","style","textAlign","padding","size","fileName","_jsxFileName","lineNumber","columnNumber","filename","filetype","Tags","map","tag","index","color","viewCount","_c","$RefreshReg$"],"sources":["/Users/adeelakram/Documents/projects/freelance/herogramtest/frontend/src/modules/mediaFiles/ViewMediaModal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Modal, Spin, Tag } from 'antd';\nimport axiosInstance from '../../config/axiosConfig';\nimport { API_BASE_URL } from 'config/constant';\n\nconst MediaViewModal = ({ visible, onClose, mediaId }) => {\n  const [loading, setLoading] = useState(false);\n  const [media, setMedia] = useState(null);\n\n  // Fetch media details and update view count\n  const fetchMediaDetails = async () => {\n    setLoading(true);\n    try {\n      // Fetch media details\n      const response = await axiosInstance.get(`/files/${mediaId}`);\n      setMedia(response.data?.file);\n\n      // Update view count\n      await axiosInstance.post(`/files/${mediaId}/increment-view`);\n    } catch (error) {\n      console.error('Error fetching media details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (visible && mediaId) {\n      fetchMediaDetails();\n    }\n  }, [visible, mediaId]);\n\n  return (\n    <Modal\n      visible={visible}\n      title=\"Media Details\"\n      onCancel={onClose}\n      footer={null}\n      width={800}\n    >\n      {loading ? (\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n          <Spin size=\"large\" />\n        </div>\n      ) : (\n        media && (\n          <div>\n            <h2>{media.filename}</h2>\n            <p><strong>File Type:</strong> {media.filetype}</p>\n            <p><strong>Tags:</strong> \n                  {media.Tags?.map((tag, index) => (\n                          <Tag color=\"blue\" key={index}>\n                            {tag?.tag}\n                          </Tag>\n                        ))}</p>\n            <p><strong>View Count:</strong> {media.viewCount}</p>\n            {/* <div>\n              {media.filetype.startsWith('image') && (\n                <img\n                  src={`${API_BASE_URL}files/${media.id}/file`}\n                  alt={media.filename}\n                  style={{ width: '100%', maxHeight: '400px', objectFit: 'contain' }}\n                />\n              )}\n              {media.filetype.startsWith('video') && (\n                <video controls style={{ width: '100%' }}>\n                  <source src={`${API_BASE_URL}files/${media.id}/file`} type={media.filetype} />\n                  Your browser does not support the video tag.\n                </video>\n              )}\n            </div> */}\n          </div>\n        )\n      )}\n    </Modal>\n  );\n};\n\nexport default MediaViewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}