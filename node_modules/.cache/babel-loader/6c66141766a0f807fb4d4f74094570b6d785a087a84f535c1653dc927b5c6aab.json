{"ast":null,"code":"var _jsxFileName = \"/Users/adeelakram/Documents/projects/freelance/herogramtest/frontend/src/modules/mediaFiles/ViewMediaModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Modal, Spin } from 'antd';\nimport axiosInstance from '../../config/axiosConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MediaViewModal = ({\n  visible,\n  onClose,\n  mediaId\n}) => {\n  _s();\n  var _media$tags;\n  const [loading, setLoading] = useState(false);\n  const [media, setMedia] = useState(null);\n\n  // Fetch media details and update view count\n  const fetchMediaDetails = async () => {\n    setLoading(true);\n    try {\n      // Fetch media details\n      const response = await axiosInstance.get(`/files/${mediaId}`);\n      setMedia(response.data);\n\n      // Update view count\n      await axiosInstance.post(`/files/${mediaId}/increment-view`);\n    } catch (error) {\n      console.error('Error fetching media details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (visible && mediaId) {\n      fetchMediaDetails();\n    }\n  }, [visible, mediaId]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: visible,\n    title: \"Media Details\",\n    onCancel: onClose,\n    footer: null,\n    width: 800,\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : media && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: media.filename\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"File Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 16\n        }, this), \" \", media.filetype]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tags:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 16\n        }, this), \" \", (_media$tags = media.tags) === null || _media$tags === void 0 ? void 0 : _media$tags.join(', ')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"View Count:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this), \" \", media.viewCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(MediaViewModal, \"7BRB4GByFWi/BxMWYmVBpjiJsIg=\");\n_c = MediaViewModal;\nexport default MediaViewModal;\nvar _c;\n$RefreshReg$(_c, \"MediaViewModal\");","map":{"version":3,"names":["React","useEffect","useState","Modal","Spin","axiosInstance","jsxDEV","_jsxDEV","MediaViewModal","visible","onClose","mediaId","_s","_media$tags","loading","setLoading","media","setMedia","fetchMediaDetails","response","get","data","post","error","console","title","onCancel","footer","width","children","style","textAlign","padding","size","fileName","_jsxFileName","lineNumber","columnNumber","filename","filetype","tags","join","viewCount","_c","$RefreshReg$"],"sources":["/Users/adeelakram/Documents/projects/freelance/herogramtest/frontend/src/modules/mediaFiles/ViewMediaModal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Modal, Spin } from 'antd';\nimport axiosInstance from '../../config/axiosConfig';\n\nconst MediaViewModal = ({ visible, onClose, mediaId }) => {\n  const [loading, setLoading] = useState(false);\n  const [media, setMedia] = useState(null);\n\n  // Fetch media details and update view count\n  const fetchMediaDetails = async () => {\n    setLoading(true);\n    try {\n      // Fetch media details\n      const response = await axiosInstance.get(`/files/${mediaId}`);\n      setMedia(response.data);\n\n      // Update view count\n      await axiosInstance.post(`/files/${mediaId}/increment-view`);\n    } catch (error) {\n      console.error('Error fetching media details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (visible && mediaId) {\n      fetchMediaDetails();\n    }\n  }, [visible, mediaId]);\n\n  return (\n    <Modal\n      visible={visible}\n      title=\"Media Details\"\n      onCancel={onClose}\n      footer={null}\n      width={800}\n    >\n      {loading ? (\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n          <Spin size=\"large\" />\n        </div>\n      ) : (\n        media && (\n          <div>\n            <h2>{media.filename}</h2>\n            <p><strong>File Type:</strong> {media.filetype}</p>\n            <p><strong>Tags:</strong> {media.tags?.join(', ')}</p>\n            <p><strong>View Count:</strong> {media.viewCount}</p>\n            {/* <div>\n              {media.filetype.startsWith('image') && (\n                <img\n                  src={`/uploads/${media.path}`}\n                  alt={media.filename}\n                  style={{ width: '100%', maxHeight: '400px', objectFit: 'contain' }}\n                />\n              )}\n              {media.filetype.startsWith('video') && (\n                <video controls style={{ width: '100%' }}>\n                  <source src={`/uploads/${media.path}`} type={media.filetype} />\n                  Your browser does not support the video tag.\n                </video>\n              )}\n            </div> */}\n          </div>\n        )\n      )}\n    </Modal>\n  );\n};\n\nexport default MediaViewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}